#!/usr/bin/env python
"""
Look for URLs in stdin or files specified on the command-line and prints each URL to stdout on its own line
"""

from __future__ import unicode_literals, print_function, absolute_import

import fileinput
import re

# Derrived from the regexp used by urlview:
URL_RE = re.compile(r'(((http|https|ftp|gopher)|mailto):(//)?[^ <>"\t]*|(www|ftp)[0-9]?\.[-a-z0-9.]+)(\s|$)')

for line in fileinput.input():
    matches = URL_RE.findall(line)
    for m in matches:
        print(m[0].strip())